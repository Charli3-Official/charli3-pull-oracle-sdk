# Mainnet Oracle Deployment Configuration

network:
  # Network type (mainnet/testnet)
  network: "mainnet"

  # Blockfrost configuration
  blockfrost:
    project_id: "$BLOCKFROST_PROJECT_ID" # Use environment variable
    # Optional custom Blockfrost URL
    # api_url: "https://cardano-mainnet.blockfrost.io/api/v0"

  # Alternative Ogmios/Kupo configuration
  # ogmios_kupo:
  #   ogmios_url: "http://localhost:1337"
  #   kupo_url: "http://localhost:1442"

  # Wallet configuration - use either mnemonic or key files
  wallet:
    # Option 1: Mnemonic (recommended to use environment variable)
    mnemonic: "$WALLET_MNEMONIC"

    # Option 2: Key files
    # payment_skey_path: "keys/payment.skey"
    # payment_vkey_path: "keys/payment.vkey"
    # stake_vkey_path: "keys/stake.vkey"

tokens:
  # Platform authorization NFT policy ID (hex)
  platform_auth_policy: "0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"
  # Oracle NFT policy ID (hex)
  oracle_policy: "7d6687ae264f367dcd803851a7c899ccf0f6740b1b37705018c8799d"
  # Fee token details
  # Use empty strings for ada (lovelace)
  reward_token_policy: "fedcba9876543210fedcba9876543210fedcba9876543210fedcba9876543210"
  reward_token_name: "43485249" # "CHRI" in hex

  # External rate for oracle fee payment conversion
  rate_token_policy:
  rate_token_name:

oracle_address: "addr1wqxxyk7uedfl27gw6dyfgrptrd5y7xz66vmm2rfmmg6fn6c9s5ggf"

fees:
  # Node operator fee (in lovelace)
  node_fee: 2000000 # 2 ADA

  # Platform fee (in lovelace)
  platform_fee: 1000000 # 1 ADA

timing:
  # All periods in milliseconds
  pause_period: 3600000 # 1 hour
  reward_dismissing_period: 7200000 # 2 hours
  aggregation_liveness: 300000 # 5 minutes
  time_uncertainty_aggregation: 120000 # 2 minutes in ms
  time_uncertainty_platform: 180000 # 3 minutes in ms
  iqr_multiplier: 150 # 1.5x multiplier for outlier detection
  median_divergency_factor: 200 # 20% divergency allowed when iqr=0
  utxo_size_safety_buffer: 7500000 # 7.5 ada for utxo fee buffer, if not provided settings utxo size will be used to calculate this dynamically

# Number of Reward and Aggregation State UTxOs minted during deployment
reward_count: 1
aggstate_count: 1

# Path to Aiken blueprint file
blueprint_path: "artifacts/plutus.json"
apply_arguments_with_aiken: True

# Reference script creation options
create_reference: true # Create manager reference script

# Will pay out utxo with reference script to this address.
# By default creates reference script at this script address.
reference_script_addr: "addr1wqxxyk7uedfl27gw6dyfgrptrd5y7xz66vmm2rfmmg6fn6c9s5ggf"
reward_issuer_address: "addr1qylfnxq8p2p5t8svf7q6r2v3kn47humag3q9qulzjc20auvzz8sc749jnq8pu5l6gvnfyql3azfxgtup77swyxpf95kq8y8y4e"
